{"ast":null,"code":"import AppStore from '../../stores/Redux/AppStore';\nimport Cookies from 'js-cookie';\nexport const Login = datas => {\n  console.log(\"Login\");\n  fetch(\"https://mycoffees.herokuapp.com/users/sign_in\", {\n    method: \"post\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(datas)\n  }).then(response => {\n    console.log([...response.headers.get(\"authorization\")]);\n    /* AppStore.dispatch({\n        type: 'EDIT_TOKEN',\n        newToken: [...response.headers.get(\"authorization\")].join('')\n    }) */\n\n    /* Cookies.set('jwt-token', [...response.headers.get(\"authorization\")].join(''), {\n        sameSite: \"None\",\n        secure: true\n    }) */\n\n    return response.json();\n  }).then(response => {\n    AppStore.dispatch({\n      type: \"EDIT_USER\",\n      newUser: response.user\n    });\n    Cookies.set('user', JSON.stringify(response.user), {\n      sameSite: \"None\",\n      secure: true\n    });\n    console.log(response);\n  });\n};\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["AppStore","Cookies","Login","datas","console","log","fetch","method","headers","body","JSON","stringify","then","response","get","json","dispatch","type","newUser","user","set","sameSite","secure"],"sources":["/home/odin/Desktop/THPâ˜ /Developpeur/ProjetFinal1/projet-coffee/src/apiCalls/LoginCall/index.jsx"],"sourcesContent":["import AppStore from '../../stores/Redux/AppStore'\nimport Cookies from 'js-cookie'\n\nexport const Login = (datas) => {\n\n    console.log(\"Login\")\n\n    fetch(\"https://mycoffees.herokuapp.com/users/sign_in\", {\n        method: \"post\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(datas),\n    }).then((response) => {\n        console.log([...response.headers.get(\"authorization\")])\n        /* AppStore.dispatch({\n            type: 'EDIT_TOKEN',\n            newToken: [...response.headers.get(\"authorization\")].join('')\n        }) */\n        /* Cookies.set('jwt-token', [...response.headers.get(\"authorization\")].join(''), {\n            sameSite: \"None\",\n            secure: true\n        }) */\n        return (response.json())\n    }).then((response) => {\n        AppStore.dispatch({\n            type: \"EDIT_USER\",\n            newUser: response.user\n        })\n        Cookies.set('user', JSON.stringify(response.user), {\n            sameSite: \"None\",\n            secure: true\n        })\n        console.log(response)\n    })\n}"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,6BAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,OAAO,MAAMC,KAAK,GAAIC,KAAD,IAAW;EAE5BC,OAAO,CAACC,GAAR,CAAY,OAAZ;EAEAC,KAAK,CAAC,+CAAD,EAAkD;IACnDC,MAAM,EAAE,MAD2C;IAEnDC,OAAO,EAAE;MACL,gBAAgB;IADX,CAF0C;IAKnDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,KAAf;EAL6C,CAAlD,CAAL,CAMGS,IANH,CAMSC,QAAD,IAAc;IAClBT,OAAO,CAACC,GAAR,CAAY,CAAC,GAAGQ,QAAQ,CAACL,OAAT,CAAiBM,GAAjB,CAAqB,eAArB,CAAJ,CAAZ;IACA;AACR;AACA;AACA;;IACQ;AACR;AACA;AACA;;IACQ,OAAQD,QAAQ,CAACE,IAAT,EAAR;EACH,CAjBD,EAiBGH,IAjBH,CAiBSC,QAAD,IAAc;IAClBb,QAAQ,CAACgB,QAAT,CAAkB;MACdC,IAAI,EAAE,WADQ;MAEdC,OAAO,EAAEL,QAAQ,CAACM;IAFJ,CAAlB;IAIAlB,OAAO,CAACmB,GAAR,CAAY,MAAZ,EAAoBV,IAAI,CAACC,SAAL,CAAeE,QAAQ,CAACM,IAAxB,CAApB,EAAmD;MAC/CE,QAAQ,EAAE,MADqC;MAE/CC,MAAM,EAAE;IAFuC,CAAnD;IAIAlB,OAAO,CAACC,GAAR,CAAYQ,QAAZ;EACH,CA3BD;AA4BH,CAhCM;KAAMX,K"},"metadata":{},"sourceType":"module"}