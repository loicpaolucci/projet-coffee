{"ast":null,"code":"import AppStore from '../../stores/Redux/AppStore';\nimport Cookies from 'js-cookie';\nexport const Login = datas => {\n  console.log(\"Login\", datas);\n  then(response => {\n    console.log([...response.headers.get(\"authorization\")].join(''));\n    AppStore.dispatch({\n      type: 'EDIT_TOKEN',\n      newToken: [...response.headers.get(\"authorization\")].join('')\n    });\n    Cookies.set('jwt-token', [...response.headers.get(\"authorization\")].join(''), {\n      sameSite: \"None\",\n      secure: true\n    });\n    return response.json();\n  }).then(response => {\n    AppStore.dispatch({\n      type: \"EDIT_USER\",\n      newUser: response.user\n    });\n    Cookies.set('user', JSON.stringify(response.user), {\n      sameSite: \"None\",\n      secure: true\n    });\n    console.log(response);\n  });\n};\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["AppStore","Cookies","Login","datas","console","log","then","response","headers","get","join","dispatch","type","newToken","set","sameSite","secure","json","newUser","user","JSON","stringify"],"sources":["/home/odin/Desktop/THPâ˜ /Developpeur/ProjetFinal1/projet-coffee/src/apiCalls/LoginCall/index.jsx"],"sourcesContent":["import AppStore from '../../stores/Redux/AppStore'\nimport Cookies from 'js-cookie'\n\nexport const Login = (datas) => {\n\n    console.log(\"Login\", datas)\n\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    then((response) => {\n        console.log([...response.headers.get(\"authorization\")].join(''))\n        AppStore.dispatch({\n            type: 'EDIT_TOKEN',\n            newToken: [...response.headers.get(\"authorization\")].join('')\n        })\n        Cookies.set('jwt-token', [...response.headers.get(\"authorization\")].join(''), {\n            sameSite: \"None\",\n            secure: true\n        })\n        return (response.json())\n    }).then((response) => {\n        AppStore.dispatch({\n            type: \"EDIT_USER\",\n            newUser: response.user\n        })\n        Cookies.set('user', JSON.stringify(response.user), {\n            sameSite: \"None\",\n            secure: true\n        })\n        console.log(response)\n    })\n}"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,6BAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,OAAO,MAAMC,KAAK,GAAIC,KAAD,IAAW;EAE5BC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;EAqBAG,IAAI,CAAEC,QAAD,IAAc;IACfH,OAAO,CAACC,GAAR,CAAY,CAAC,GAAGE,QAAQ,CAACC,OAAT,CAAiBC,GAAjB,CAAqB,eAArB,CAAJ,EAA2CC,IAA3C,CAAgD,EAAhD,CAAZ;IACAV,QAAQ,CAACW,QAAT,CAAkB;MACdC,IAAI,EAAE,YADQ;MAEdC,QAAQ,EAAE,CAAC,GAAGN,QAAQ,CAACC,OAAT,CAAiBC,GAAjB,CAAqB,eAArB,CAAJ,EAA2CC,IAA3C,CAAgD,EAAhD;IAFI,CAAlB;IAIAT,OAAO,CAACa,GAAR,CAAY,WAAZ,EAAyB,CAAC,GAAGP,QAAQ,CAACC,OAAT,CAAiBC,GAAjB,CAAqB,eAArB,CAAJ,EAA2CC,IAA3C,CAAgD,EAAhD,CAAzB,EAA8E;MAC1EK,QAAQ,EAAE,MADgE;MAE1EC,MAAM,EAAE;IAFkE,CAA9E;IAIA,OAAQT,QAAQ,CAACU,IAAT,EAAR;EACH,CAXG,CAAJ,CAWGX,IAXH,CAWSC,QAAD,IAAc;IAClBP,QAAQ,CAACW,QAAT,CAAkB;MACdC,IAAI,EAAE,WADQ;MAEdM,OAAO,EAAEX,QAAQ,CAACY;IAFJ,CAAlB;IAIAlB,OAAO,CAACa,GAAR,CAAY,MAAZ,EAAoBM,IAAI,CAACC,SAAL,CAAed,QAAQ,CAACY,IAAxB,CAApB,EAAmD;MAC/CJ,QAAQ,EAAE,MADqC;MAE/CC,MAAM,EAAE;IAFuC,CAAnD;IAIAZ,OAAO,CAACC,GAAR,CAAYE,QAAZ;EACH,CArBD;AAsBH,CA7CM;KAAML,K"},"metadata":{},"sourceType":"module"}